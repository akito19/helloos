# Day 9

#### はりぼてOSのメモリマップ

```
0x00000000 - 0x000fffff : 起動中に色々使うが，その後は空き(1MB)
0x00100000 - 0x00267fff : フロッピーディスクの内容記憶用(1440KB)
0x00268000 - 0x0026f7ff : あき(30KB)
0x0026f800 - 0x0026ffff : IDT(2KB)
0x00270000 - 0x0027ffff : GDT(64KB)
0x00280000 - 0x002fffff : bootpack.hrb(512KB)
0x00300000 - 0x003fffff : スタックなど(1MB)
0x00400000 -            : あき
```

### Cache Memory

計算機上で実行される命令のほとんどはループ処理であり，それを実行する間は，メモリの同じアドレスを何度も見ることになる．
メモリはCPUから物理的に遠い位置にあり，何度も見に行くことが大きなオーバーヘッドになるので，CPU内にキャッシュ用のメモリをおいて，まずキャッシュメモリを見に行くような構成になる．

書き込みの場合も同様に，まずキャッシュ内の情報を更新した上で，最後にメモリへの書き込みを行う．

また，キャッシュの有効無効を操作するためには `CR0` レジスタの中にあるフラグを操作する．
