# Day 20

### 1. プログラムの整理

リファクタ

### 2, 3. 一文字表示API

`CALL` 命令は `JMP` 命令とほぼ同じ．ただし， `RET` 命令によって戻ってくるために， `CALL` にはスタックに戻り先のメモリ番地をPUSHする必要がある．

```asm
MOV   AL,'A'
CALL  `some memory address...`
```

相変わらず `hlt` で再起動っぽいのが起こる...
なにゆえ...

### 4. アプリケーションの終了

### 5. OSのバージョンが変わっても変わらないAPI

OSがアップデートするたびに呼びたい関数のメモリ番地が変わるので，アプリ側でそれを追従しようとするのはめんどくさい．

なので，コンパイルしなおしたりしなくても問題ないようにする．
ここでは `IDT` の未使用部分を利用して `asm_cons_putchar` を登録してしまう．

### 6. アプリケーション名を自由に
